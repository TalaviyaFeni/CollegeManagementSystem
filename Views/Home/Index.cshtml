@{
    ViewData["Title"] = "Dashboard";
}

<div class="row g-4" id="dashboard-cards">
    <div class="col-md-2">
        <a href="/Students" class="text-decoration-none">
            <div class="card shadow-sm border-0 text-center hover-card">
                <div class="card-body">
                    <i class="bi bi-mortarboard fs-1 text-primary"></i>
                    <h5 class="mt-3 text-dark">Students</h5>
                    <h3 class="text-dark" id="studentCount">@ViewBag.StudentCount</h3>
                </div>
            </div>
        </a>
    </div>

    <div class="col-md-2">
        <a href="/Faculties" class="text-decoration-none">
            <div class="card shadow-sm border-0 text-center hover-card">
                <div class="card-body">
                    <i class="bi bi-person-badge fs-1 text-success"></i>
                    <h5 class="mt-3 text-dark">Faculties</h5>
                    <h3 class="text-dark" id="facultyCount">@ViewBag.FacultyCount</h3>
                </div>
            </div>
        </a>
    </div>

    <div class="col-md-2">
        <a href="/Departments" class="text-decoration-none">
            <div class="card shadow-sm border-0 text-center hover-card">
                <div class="card-body">
                    <i class="bi bi-building fs-1 text-info"></i>
                    <h5 class="mt-3 text-dark">Departments</h5>
                    <h3 class="text-dark" id="departmentCount">@ViewBag.DepartmentCount</h3>
                </div>
            </div>
        </a>
    </div>

    <div class="col-md-2">
        <a href="/Courses" class="text-decoration-none">
            <div class="card shadow-sm border-0 text-center hover-card">
                <div class="card-body">
                    <i class="bi bi-book fs-1 text-warning"></i>
                    <h5 class="mt-3 text-dark">Courses</h5>
                    <h3 class="text-dark" id="courseCount">@ViewBag.CourseCount</h3>
                </div>
            </div>
        </a>
    </div>

    <div class="col-md-2">
        <a href="/Results" class="text-decoration-none">
            <div class="card shadow-sm border-0 text-center hover-card">
                <div class="card-body">
                    <i class="bi bi-clipboard-data fs-1 text-danger"></i>
                    <h5 class="mt-3 text-dark">Results</h5>
                    <h3 class="text-dark" id="resultCount">@ViewBag.ResultCount</h3>
                </div>
            </div>
        </a>
    </div>
</div>

<hr class="my-4" />


<style>
    .hover-card {
        transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .hover-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 6px 20px rgba(0,0,0,0.1);
    }
</style>

@section Scripts {
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <script>
        function updateDashboardCounts() {
            $.getJSON('/Home/GetDashboardData', function (data) {
                $('#studentCount').text(data.studentCount);
                $('#facultyCount').text(data.facultyCount);
                $('#departmentCount').text(data.departmentCount);
                $('#courseCount').text(data.courseCount);
                $('#resultCount').text(data.resultCount);
            });
        }

        $(document).ready(function () {
            updateDashboardCounts();
            setInterval(updateDashboardCounts, 5000);
        });
    </script>
}
